<!DOCTYPE html>
<html lang="en">
<head>
    <title>vim+gdb=vimgdb</title>
    <meta charset="utf-8" />
    <link href="http://blog.chmd.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Ch-M.D Full Atom Feed" />
    <link href="http://blog.chmd.fr/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Ch-M.D Categories Atom Feed" />
    <link rel="stylesheet" href="theme/css/rdark.css" />
    <link rel="stylesheet" type="text/css" href="theme/css/main.css" />
</head>

<body id="index" class="home">
    <header id="banner" class="body">
        <h1><a href="http://blog.chmd.fr">Ch-M.D <strong></strong></a></h1>
    </header><!-- /#banner -->
<section id="content" class="body">
<header>
    <h1 class="entry-title">
        <a href="vimgdbvimgdb.html" rel="bookmark" title="Permalink to vim+gdb=vimgdb">
                vim+gdb=vimgdb
        </a>
    </h1>
</header>
<article>
    <div class="entry-content">
    <p>Ça faisait longtemps que je n'avais pas fait d'article, j'en profite donc
pour rendre hommage au méconnu <a href="http://clewn.sourceforge.net/">vimgdb</a>.
vimgdb est un patch pour vim qui permet de débogguer dans vim. On ne
vantera jamais assez les mérites d'un déboggeur (franchement, il y a un
stade où il faut arrêter les <code>fprintf(stdout, "kikoo")</code> et les <code>cout
&lt;&lt;"lol"</code>), que ce soit parce que c'est franchement plus élégant, que c'est
plus le pratique quand on maitrise, ou parce que c'est mille fois plus
puissant.</p>
<p>Alors, me direz-vous, chers adeptes de gvim, qu'il existe déjà un plugin
pour vim nommé <a href="http://clewn.sourceforge.net/">clewn</a> (ou voir mieux,
<a href="http://pyclewn.wiki.sourceforge.net/">pyclewn</a>) qui fait la même chose
sans se taper de recompilation intempestive de son éditeur favori. Eh bien
moi je vous répond: oui mais dans gvim on ne peut pas retrouver le shell
en tapant Ctrl-Z (ce qui met vim en arrière-plan) et c'est un sérieux
handicap pour les gens comme moi qui apprécient énormément cette feature
(au fait, fg est votre ami si vous découvrez en lisant l'article et que
vous ne savez pas comment revenir à vim).</p>
<p>Malheureusement, le paquet fait défaut sur la plupart des distrib (sauf
archlinux, où je me suis permis de l'ajouter dans
<a href="http://aur.archlinux.org/packages.php?O=0&amp;K=vimgdb&amp;do_Search=Go">AUR</a> --
si vous avez des suggestions pour améliorer le PKGBUILD, n'hésitez pas).
Vous pouvez donc vous inspirer dudit PKGBUILD pour <a href="http://clewn.sourceforge.net/install.html">compiler votre
version</a>, ou suivre les
indications du site (je vais pas vous dire comment compiler un programme,
quand même!). Après, en installant le plugin vim pour gdb (comme indiqué
dans la procédure du lien précédent), vous avez accès à tout un cas de
commandes sympa (<code>:help gdb</code> pour l'aide), qui permettent de voir vos
variables et de suivre le déroulement des opérations dans l'éditeur. Cool,
non? Preuve que c'est bien pensé, je n'ai eu à changer aucun des
raccourcis par défaut (J'ai juste changé un <code>where</code> en <code>where all</code> dans
.vim/macros/gdb_mappings.vim). Evidemment, il est aussi possible
d'ajouter ses propres mappings ou de modifier ceux qui sont fournis.</p>
<p>N'oubliez pas de rajouter run macros/gdb_mappings.vim dans votre .vimrc!
Je vous suggère aussi de vous renseigner sur gdb et de suivre le tuto de
<a href="http://dirac.org/linux/gdb/">Peter Jay Salzman</a>, qui m'a bien initié.
Pour ma part, je conserve aussi dans un coin <a href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html">un excellent
lien</a> qui me sert de
référence en cas de trou de mémoire... Bon déboggage! Si vous souhaitez
des screenshots, regardez <a href="http://sourceforge.net/project/screenshots.php?group_id=111038">par
là</a>...</p>
<p>PS: apparemment mon PKGBUILD a été marqué "out of date", je vais
corriger ça dès que possible...</p>
    </div>
    <div class="comments">
        <h2>Comments !</h2>
        <!-- hack to add flattr -->
        <script id='fbnrl3e'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=chmd&button=compact&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fbnrl3e');</script>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_identifier = "vimgdbvimgdb.html";
            (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//chmd.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        </div>
</article>
</section>
    <footer id="contentinfo" class="body">
        <address id="about" class="vcard body">
        Generated by <a href="http://getpelican.com/">pelican</a>,
        theme <a href="https://github.com/chmduquesne/small">small</a>
        </address><!-- /#about -->
    </footer><!-- /#contentinfo -->
</body>
</html>