<!DOCTYPE html>
<html lang="en">
<head>
                <title>Ch-M.D - Articles by Tof</title>
        <meta charset="utf-8" />
                <link href="http://blog.chmd.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Ch-M.D Full Atom Feed" />
                                                                        
        <link rel="stylesheet" href="/theme/css/rdark.css" />
        <link rel="stylesheet" type="text/css" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Ch-M.D ATOM Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="">Ch-M.D <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
                                          </ul></nav><!-- /#menu -->
        <section id="content">
<h2>Articles by Tof</h2>

                                                    <header>
                    <h1><a href="/autotools-doxygen-et-generation-conditionnelle.html"
                            id="page-title">autotools, doxygen, et génération conditionnelle</a></h1>
                                            <time datetime="2009-07-10T12:54:00">Fri 10 July 2009</time>
                                    </header>
                <article>
                    <p>On m'a donné une astuce bien sympa pour générer de la documentation
de manière conditionnelle avec doxygen. J'utilise ça dans le projet
que je code au boulot, et je pense que ça vaut le coup de partager.
L'idée est de générer la  documentation automatiquement à chaque
compilation de mon projet, en faisant appel aux features avancées
de doxygen en fonction des outils dont dispose l'utilisateur : dot,
htags, perl, etc... On va donc vérifier quels programmes sont
présents grâce au configure.ac, et on va générer le doxyfile en
fonction desquels sont présents. L'exemple que je donne n'est pas
complet, mais vous pouvez vous en inspirer: Fichier configure.ac</p>
<div class="highlight"><pre><span class="n">AC_CHECK_PROG</span><span class="p">([</span><span class="n">DOT</span><span class="p">],</span> <span class="p">[</span><span class="n">dot</span><span class="p">],</span> <span class="p">[</span><span class="n">yes</span><span class="p">],</span> <span class="p">[</span><span class="n">no</span><span class="p">])</span>
<span class="n">AC_CHECK_PROG</span><span class="p">([</span><span class="n">HTAGS</span><span class="p">],</span> <span class="p">[</span><span class="n">htags</span><span class="p">],</span> <span class="p">[</span><span class="n">yes</span><span class="p">],</span> <span class="p">[</span><span class="n">no</span><span class="p">])</span>
<span class="n">AC_PATH_PROG</span><span class="p">([</span><span class="n">PERL</span><span class="p">],</span> <span class="p">[</span><span class="n">perl</span><span class="p">],</span> <span class="p">[])</span>
<span class="n">AM_CONDITIONAL</span><span class="p">([</span><span class="n">DOXYGEN</span><span class="p">],</span> <span class="p">[</span><span class="n">test</span> <span class="s">&quot;x$doxygen_ok&quot;</span> <span class="o">=</span> <span class="n">xyes</span><span class="p">])</span>
<span class="n">AM_CONDITIONAL</span><span class="p">([</span><span class="n">DOT</span><span class="p">],</span> <span class="p">[</span><span class="n">test</span> <span class="s">&quot;x$dot_ok&quot;</span> <span class="o">=</span> <span class="n">xyes</span><span class="p">])</span>

<span class="n">AC_CONFIG_FILES</span><span class="p">(</span>
    <span class="n">doc</span><span class="o">/</span><span class="n">doxygen_html</span><span class="p">.</span><span class="n">cfg</span>
<span class="p">)</span>
</pre></div>


<p>Ensuite, il suffit de glisser les bonnes références dans le fichier
doc/doxygen_html.cfg.in :</p>
<div class="highlight"><pre><span class="n">USE_HTAGS</span>              <span class="o">=</span> <span class="err">@</span><span class="n">HTAGS</span><span class="err">@</span>
<span class="n">PERL_PATH</span>              <span class="o">=</span> <span class="err">@</span><span class="n">PERL</span><span class="err">@</span>
<span class="n">HAVE_DOT</span>               <span class="o">=</span> <span class="err">@</span><span class="n">DOT</span><span class="err">@</span>
</pre></div>


<p>Ainsi, après l'appel de ./configure, le fichier doxygen_html.cfg
va être généré, et les expressions entre @ vont y être remplacées
par les bonnes valeurs. Vous pourrez ensuite vous servir de ce
fichier pour véritablement générer la doc...</p>
                </article>
                            <section id="article-list">
                    <h2>All posts</h2>
                    <ol>
                                                                                        <li><a href="/choose-your-passphrase-with-a-die.html" rel="bookmark" title="Permalink to Choose your passphrase with a die">Choose your passphrase with a die</a></li>
                                                            <li><a href="/continuous-background-compilation-within-vim.html" rel="bookmark" title="Permalink to Continuous background compilation within vim">Continuous background compilation within vim</a></li>
                                                            <li><a href="/couper-une-video-et-extraire-une-scene-dun-film.html" rel="bookmark" title="Permalink to Couper une vidéo et extraire une scène d'un film">Couper une vidéo et extraire une scène d'un film</a></li>
                                                            <li><a href="/de-linteret-de-detacher-des-programmes-de-la-console-sans-screen.html" rel="bookmark" title="Permalink to De l'intérêt de détacher des programmes de la console (sans screen)">De l'intérêt de détacher des programmes de la console (sans screen)</a></li>
                                                            <li><a href="/faire-un-gif-anime-a-partir-dun-film.html" rel="bookmark" title="Permalink to Faire un gif animé à partir d'un film">Faire un gif animé à partir d'un film</a></li>
                                                            <li><a href="/gdb-70-est-sorti-cest-une-merveille-et-vous-ne-le-saviez-pas.html" rel="bookmark" title="Permalink to gdb 7.0 est sorti, c'est une merveille et vous ne le saviez pas.">gdb 7.0 est sorti, c'est une merveille et vous ne le saviez pas.</a></li>
                                                            <li><a href="/gerer-ses-plugins-vim-avec-getlatestvimscripts.html" rel="bookmark" title="Permalink to Gérer ses plugins vim avec :GetLatestVimScripts">Gérer ses plugins vim avec :GetLatestVimScripts</a></li>
                                                            <li><a href="/git-on-lighttpd.html" rel="bookmark" title="Permalink to Git on lighttpd">Git on lighttpd</a></li>
                                                            <li><a href="/going-static.html" rel="bookmark" title="Permalink to Going static">Going static</a></li>
                                                            <li><a href="/google-releasing-a-constraint-programming-library.html" rel="bookmark" title="Permalink to Google releasing a constraint programming library">Google releasing a constraint programming library</a></li>
                                                            <li><a href="/jabber-notifications-on-ssh-login.html" rel="bookmark" title="Permalink to Jabber notifications on ssh login">Jabber notifications on ssh login</a></li>
                                                            <li><a href="/je-prefere-ton-clone-padopi.html" rel="bookmark" title="Permalink to [Je préfère ton clone] padopi">[Je préfère ton clone] padopi</a></li>
                                                            <li><a href="/la-todo-liste-du-pauvre.html" rel="bookmark" title="Permalink to La TODO liste du pauvre">La TODO liste du pauvre</a></li>
                                                            <li><a href="/les-lecteurs-de-flux-rss-en-ligne-independants-libres-suite.html" rel="bookmark" title="Permalink to Les lecteurs de flux rss, en ligne, indépendants, libres (suite).">Les lecteurs de flux rss, en ligne, indépendants, libres (suite).</a></li>
                                                            <li><a href="/les-lecteurs-de-flux-rss-en-ligne-libres.html" rel="bookmark" title="Permalink to Les lecteurs de flux rss en ligne libres">Les lecteurs de flux rss en ligne libres</a></li>
                                                            <li><a href="/luml-automatise-et-le-libre-cest-pas-gagne.html" rel="bookmark" title="Permalink to l'UML automatisé et le libre : c'est pas gagné!">l'UML automatisé et le libre : c'est pas gagné!</a></li>
                                                            <li><a href="/mettre-des-couleurs-un-peu-partout-gcc-diff-grep.html" rel="bookmark" title="Permalink to Mettre des couleurs un peu partout (gcc, diff, grep...)">Mettre des couleurs un peu partout (gcc, diff, grep...)</a></li>
                                                            <li><a href="/mise-a-jour-de-talkmyphone.html" rel="bookmark" title="Permalink to Mise à jour de TalkMyPhone">Mise à jour de TalkMyPhone</a></li>
                                                            <li><a href="/notifications-from-google-calendar-on-my-desktop.html" rel="bookmark" title="Permalink to Notifications from google calendar on my desktop">Notifications from google calendar on my desktop</a></li>
                                                            <li><a href="/operations-research-and-beer-drinking.html" rel="bookmark" title="Permalink to Operations Research and Beer drinking">Operations Research and Beer drinking</a></li>
                                                            <li><a href="/plowbot-a-jabber-bot-that-downloads-links-from-1-click-hosters.html" rel="bookmark" title="Permalink to plowbot, a jabber bot that downloads links from 1-click hosters">plowbot, a jabber bot that downloads links from 1-click hosters</a></li>
                                                            <li><a href="/releasing-michel-a-flat-text-file-to-google-tasks-uploader.html" rel="bookmark" title="Permalink to Releasing Michel, a flat-text-file-to-google-tasks uploader">Releasing Michel, a flat-text-file-to-google-tasks uploader</a></li>
                                                            <li><a href="/renaming-files-and-variables-from-vim.html" rel="bookmark" title="Permalink to renaming files and variables from vim">renaming files and variables from vim</a></li>
                                                            <li><a href="/saving-your-crontab-in-your-dotfiles.html" rel="bookmark" title="Permalink to Saving your crontab in your dotfiles">Saving your crontab in your dotfiles</a></li>
                                                            <li><a href="/sigal-a-static-gallery-generator.html" rel="bookmark" title="Permalink to Sigal, a static gallery generator">Sigal, a static gallery generator</a></li>
                                                            <li><a href="/ssh-over-ssl-a-quick-and-minimal-config.html" rel="bookmark" title="Permalink to SSH over SSL, a quick and minimal config.">SSH over SSL, a quick and minimal config.</a></li>
                                                            <li><a href="/ssh-over-ssl-episode-2-replacing-proxytunnel-with-socat.html" rel="bookmark" title="Permalink to SSH over SSL, episode 2: replacing proxytunnel with socat">SSH over SSL, episode 2: replacing proxytunnel with socat</a></li>
                                                            <li><a href="/ssh-over-ssl-episode-3-avoiding-using-a-patched-apache.html" rel="bookmark" title="Permalink to SSH over SSL, episode 3: Avoiding using a patched apache.">SSH over SSL, episode 3: Avoiding using a patched apache.</a></li>
                                                            <li><a href="/talkmyphone-une-appli-android-pour-recevoir-des-notifications-de-son-telephone.html" rel="bookmark" title="Permalink to TalkMyPhone, une appli android pour recevoir des notifications de son téléphone">TalkMyPhone, une appli android pour recevoir des notifications de son téléphone</a></li>
                                                            <li><a href="/using-a-shell-version-of-supergenpass-from-vimperatorpentadactyl.html" rel="bookmark" title="Permalink to Using a shell version of supergenpass from vimperator/pentadactyl">Using a shell version of supergenpass from vimperator/pentadactyl</a></li>
                                                            <li><a href="/using-openid-and-the-likes-to-protect-static-content-lighttpd.html" rel="bookmark" title="Permalink to Using openid and the likes to protect static content (lighttpd)">Using openid and the likes to protect static content (lighttpd)</a></li>
                                                            <li><a href="/utilisons-incron-pour-etre-notifies-des-evenements-du-systeme-de-fichiers.html" rel="bookmark" title="Permalink to Utilisons incron pour être notifiés des événements du système de fichiers">Utilisons incron pour être notifiés des événements du système de fichiers</a></li>
                                                            <li><a href="/vim-complete-c-accurately-pulling-informations-from-the-compiler-with-gccsense-and-clang_complete.html" rel="bookmark" title="Permalink to Vim: complete C++ accurately, pulling informations from the compiler, with gccsense and clang_complete">Vim: complete C++ accurately, pulling informations from the compiler, with gccsense and clang_complete</a></li>
                                                            <li><a href="/vimgdbvimgdb.html" rel="bookmark" title="Permalink to vim+gdb=vimgdb">vim+gdb=vimgdb</a></li>
                                        </ol>
            </section><!-- #article-list -->
            
    <hr />
    <a href="/feeds/all.atom.xml">Atom feed</a></li>

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>