<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="http://blog.chmd.fr/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="http://blog.chmd.fr/theme/css/pygments.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="http://blog.chmd.fr/" type="application/atom+xml" rel="alternate" title="Ch-M.D ATOM Feed" />
	
	
			<title>Ch-M.D</title>
		<meta charset="utf-8" />
	</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
            <a href="http://blog.chmd.fr"><div class="logo">&nbsp;</div></a>
		</figure>

		<div class="user_meta">
            <h1 id="user"><a href="http://blog.chmd.fr" class="">Tof</a></h1>
			<h2></h2>
						<ul>
																								</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
		                theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>.
			</address>
		</footer>
	</section>

	<section id="posts">
			<header>
		<h1>Tof's blog</h1>
		<h3>Posted Sun 20 December 2009</h3>
	</header>
	<article>
		<h1 id="title">
			<a href="http://blog.chmd.fr/la-todo-liste-du-pauvre.html" rel="bookmark"
				title="Permalink to La TODO liste du pauvre">La TODO liste du pauvre</a>
		</h1>
		<p>Il y a des dizaines de logiciels permettant de gérer sa TODO liste.
Paradoxalement, si on cherche quelque chose de simple, on ne trouve
pas. Ce que je cherchais à faire est on ne peut plus simple à
décrire: quelque chose qui apparaisse une fois par heure. En effet,
le problème des notes persistantes est que l'on finit par ne plus
les voir. Pour cela, j'ai opté pour les notifications. Le principe
est simple: on met sa TODO liste dans le fichier \~/TODO. Une fois
par heure, le contenu de ce fichier est affiché dans une bulle de
notification qui dure 10 secondes. Une façon gentille de rappeler
les choses à faire, intrusive, certe, mais à la durée assez courte
pour ne pas être ennuyeuse. Ça se fait très facilement avec le
script suivant:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/env bash</span>

<span class="c"># pour que cron sache sur quel moniteur jouer la notification</span>
<span class="nv">DISPLAY</span><span class="o">=</span>:0.0

<span class="c">#params</span>
<span class="nv">todofile</span><span class="o">=</span><span class="nv">$HOME</span>/TODO
<span class="nv">icon</span><span class="o">=</span><span class="s1">&#39;/usr/share/icons/gnome/32x32/status/dialog-information.png&#39;</span>
<span class="nv">popupTime</span><span class="o">=</span>10000
<span class="nv">urgency</span><span class="o">=</span><span class="s1">&#39;low&#39;</span>

<span class="k">if </span><span class="nb">test</span> -f <span class="nv">$todofile</span>; <span class="k">then</span>
<span class="k">    </span><span class="nv">notification</span><span class="o">=</span><span class="sb">`</span>cat <span class="nv">$todofile</span><span class="sb">`</span>
    notify-send -u <span class="nv">$urgency</span> -t <span class="nv">$popupTime</span> -i <span class="s2">&quot;$icon&quot;</span> TODO <span class="s2">&quot;$notification&quot;</span>
<span class="k">fi</span>
</pre></div>
</td></tr></table>

<p>Le script, que j'ai nommé todo.sh est à faire invoquer toutes les
heures par une tache cron:</p>
<div class="highlight"><pre>0 * * * *  sh <span class="cp">${</span><span class="n">HOME</span><span class="cp">}</span>/documents/scripts/todo.sh
</pre></div>


<p>Simple comme bonjour, et efficace. Ça fait un moment que je
l'utilise, et j'en suis satisfait.</p>

		<div id="article_meta">
							Category:
					<a href="http://blog.chmd.fr/category/howto.html">howto</a>
										<br />Tags:
									<a href="http://blog.chmd.fr/tag/libre.html">libre</a>
									<a href="http://blog.chmd.fr/tag/notify-send.html">notify-send</a>
									</div>
	</article>

	<footer>
		<a href="http://blog.chmd.fr/" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>

		<div id="comments">
		<h2>Comments</h2>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			var disqus_identifier = "la-todo-liste-du-pauvre.html";
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://chmd.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view <a href="http://disqus.com/?ref_noscript">comments</a>.</noscript>
	</div>
	
	</section>

	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-17659080-3");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>